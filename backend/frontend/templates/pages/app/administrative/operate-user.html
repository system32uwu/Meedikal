{% extends 'layouts/app-base.html' %} 
{% from "components/app/profile.html" import profile with context %} 

{% block title %}Create User{% endblock %} 

{% block page_content %}
{{profile({'roles': ['patient', 'administrative', 'doctor', 'medicalAssistant']}, None, 'toggleRole', 'icons/add.svg', 'saveUser')}}

<script type="text/javascript">
    let selectedUserRoles = [];

    const toggleRole = (role) => {
        img = document.getElementById(`icon-${role}`);
        
        if (!selectedUserRoles.includes(role)){
            selectedUserRoles.push(role);
            img.src = "{{url_for('static', filename='icons/remove.svg')}}";
        }else{
            selectedUserRoles = selectedUserRoles.filter(r => r !== role);
            img.src = "{{url_for('static', filename='icons/add.svg')}}";
        }

    }

    const saveUser = () =>{
        console.log('saving user');
    }

</script>
{% endblock %}